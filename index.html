<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Plack and the Post-Apache Future of WebGUI</title>
    
    <!-- metadata -->
    <meta name="generator" content="S5" />
    <meta name="version" content="S5 1.1" />
    <meta name="presdate" content="20100902" />
    <meta name="author" content="Patrick Donelan" />
    <meta name="company" content="SDH Consulting Group" />
    
    <!-- configuration parameters -->
    <meta name="defaultView" content="slideshow" />
    <meta name="controlVis" content="hidden" />
    
    <!-- style sheet links -->
    <link rel="stylesheet" href="ui/default/slides.css" type="text/css" media="projection" id="slideProj" />
    <link rel="stylesheet" href="ui/default/outline.css" type="text/css" media="screen" id="outlineStyle" />
    <link rel="stylesheet" href="ui/default/print.css" type="text/css" media="print" id="slidePrint" />
    <link rel="stylesheet" href="ui/default/opera.css" type="text/css" media="projection" id="operaFix" />
    
    <!-- S5 JS -->
    <script src="ui/default/slides.js" type="text/javascript"></script>
</head>
<body>

<div class="layout">
    <div id="controls"><!-- DO NOT EDIT --></div>
    <div id="currentSlide"><!-- DO NOT EDIT --></div>
    <div id="header"></div>
    <div id="footer">
        <h1>WebGUI User Conference / Madison / 2nd September 2010</h1>
        <h2>Plack and the Post-Apache Future of WebGUI</h2>
    </div>
</div>


<div class="presentation">

    <div class="slide">
        <h1>Plack</h1>
        <h2>..and the Post-Apache Future of WebGUI</h2>
        <h3>Patrick Donelan</h3>
        <h4>SDH Consulting Group</h4>
    </div>

    <div class="slide">
        <div class=single>Web 101</div>
    </div>

    <div class="slide">
        <div class=single>HTTP</div>
    </div>
    
    <div class="slide">
        <h1>HTTP</h1>
        <ul class=incremental>
            <li>You type in your browser: 
                <pre>http://www.<strong>webgui.org/home</strong></pre>
            </li>
            <li>Your browser performs an HTTP <strong>GET</strong> request:
                <pre>
GET <strong>/home</strong> HTTP/1.1
Host: <strong>www.webgui.org</strong>
                </pre>
            </li>
            <li>Web Server responds with...</li>
        </ul>
    </div>
    
    <div class="slide">
        <h1>HTTP</h1>
        <ul class=incremental>
        <li>Status:
            <pre>HTTP/1.1 <strong>200 OK</strong></pre>
        </li>
        <li>Headers:
            <pre>
Date: Fri, 27 Aug 2010 21:10:39 GMT
Server: <strong>Apache/2.2</strong>
Content-Type: <strong>text/html</strong>
...
            </pre>
        </li>
        <li>Body:
<pre>
<strong>&lt;html&gt;
    ...
&lt;/html&gt;</strong>
</pre>
            </li>
        </ul>
    </div>
    
    <div class="slide">
        <div class=single>Static Websites</div>
    </div>
    
    <div class="slide">
        <div class=single>Dynamic Sites?</div>
    </div>
    
    <div class="slide">
        <h1>Web Apps</h1>
        <div class=single>CGI</div>
    </div>
    
    <div class="slide">
        <h1>CGI</h1>
        <pre>
<strong>#!/usr/bin/perl</strong>
<span class=incremental>
# Implicit "200 OK" status code
# (generated by web server)
</span><span class=incremental>
# Headers
<strong>print</strong> "Content-Type: text/plain\r\n";
</span><span class=incremental>
# Blank line to end headers
<strong>print</strong> "\r\n";
</span><span class=incremental>
# Body
<strong>print</strong> "Hello World";</span>
    </pre>
    </div>
    
    <div class="slide">
        <h1>CGI in more detail</h1>
        <ul class=incremental>
        <li>Web server runs CGI script on each web request</li>
        <li>Request headers set as environment variables (<strong>%ENV</strong> hash in Perl)
        <pre>
{
    SERVER_PROTOCOL => 'HTTP/1.1',
    REQUEST_URI => '/home',
    HTTP_HOST => 'www.webgui.org',
    ...
}
        </pre>
        </li>
        <li>STDOUT returned as HTTP body</li>
    </div>
    
    <div class="slide">
        <div class=single>Abstraction layer?</div>
    </div>
    
    <div class="slide">
    <h1>Lincoln D. Stein to the rescue!</h1>
        <blockquote><img src=img/lincoln.jpg style="padding-top: 20px"></img></blockquote>
    </div>
    
    <div class="slide">
        <h1>An abstraction layer</h1>
        <div class=single>CGI.pm</div>
    </div>
    
    <div class="slide">
        <h1>CGI.pm</h1>
        <pre>
#!/usr/bin/perl
<span class=incremental><strong>use CGI ':standard';</strong>
</span><span class=incremental>print header,
    </span><span class=incremental>start_html('My Cool Website'),
        </span><span class=incremental>h1('Hello World!'),
        </span><span class=incremental>"Wow, I'm speaking HTML!",
        </span><span class=incremental>hr,
    </span><span class=incremental>end_html;</span>
        </pre>
    </div>
    
    <div class="slide">
        <h1>CGI.pm</h1>
        <pre style="font-size: 0.75em;">
<span class=incremental>Content-Type: text/html; charset=ISO-8859-1

</span><span class=incremental>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"&gt;
&lt;head&gt;
&lt;title&gt;Example 1&lt;/title&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;<strong>Hello World!</strong>&lt;/h1&gt;
<strong>Wow, I'm speaking HTML!</strong>
&lt;hr /&gt;
&lt;/body&gt;
&lt;/html&gt;</span>
        </pre>
    </div>
    
    <div class="slide">
        <div class=single>Slow</div>
    </div>
    
    <div class="slide">
        <div class=single>Apache modperl to the rescue!</div>
    </div>
    
    <div class="slide">
    <h1>Lincoln D. Stein to the rescue!</h1>
        <blockquote><img src=img/lincoln.jpg style="padding-top: 20px"></img></blockquote>
        <blockquote>"a whole new way to create dynamic content by utilizing the <strong>full power of the Apache web server</strong> to create stateful sessions, customized user authentication systems, smart proxies and much more"</blockquote>
    </div>
    
    <div class="slide">
    <h1>Lincoln D. Stein to the rescue!</h1>
        <blockquote><img src=img/lincoln.jpg style="padding-top: 20px"></img></blockquote>
        <blockquote>"With mod_perl you <strong>give up nothing</strong> and gain so much!"</blockquote>
    </div>
    
    <div class="slide">
        <h1>mod_perl</h1>
        <pre>
<strong>package HelloWorld</strong>;
use strict;
<strong>use Apache::RequestRec;
use Apache::RequestIO;
use Apache::Const -compile => qw(OK);</strong>

sub <strong>handler</strong> {
    my $r = shift;
    $r->content_type('text/plain');
    $r->print("Hello World");
    return Apache::Const::OK;
}

1;
        </pre>
    </div>
    
    <div class="slide">
        <h1>Apache Configuration</h1>
        <pre>
<em># httpd.conf</em>
&lt;Location /webapp&gt;
      SetHandler perl-script
      PerlResponseHandler <strong>HelloWorld</strong>
&lt;/Location&gt;
        </pre>
    </div>
    
    <div class="slide">
        <div class=single style="padding-top: 0">WebGUI<br>bundles<br>Apache</div>
    </div>
    
    <div class="slide">
        <h1>site.modperl</h1>
        <pre>
&lt;VirtualHost *:8081&gt;
    ServerName dev.localhost.localdomain
    DocumentRoot /data/domains/dev.localhost.localdomain/public
	
    <strong>SetHandler perl-script
    PerlInitHandler WebGUI
    PerlSetVar WebguiConfig dev.localhost.localdomain.conf</strong>
&lt;/VirtualHost&gt;
        </pre>
    </div>
    
    <div class="slide">
        <div class=single style="padding-top: 0">WebGUI<br><span style="color: red; font-size: 0.5em">\N{HEAVY BLACK HEART}</span><br>Apache</div>
    </div>
    
    <div class="slide">
        <div class=single style="padding-top: 0">WebGUI<br><span style="color: red">&#x2764;</span><br>Apache</div>
    </div>
    
    <div class="slide">
        <h1>WebGUI.pm</h1>
        <pre>
<div class=long><span class=incremental>sub handler {
    </span><span class=incremental>my $request = shift;
    $request = <strong>Apache2::Request</strong>->new($request);
    </span><span class=incremental>my $server = <strong>Apache2::ServerUtil</strong>->server;
	
    </span><span class=incremental>my $config 
        = WebGUI::Config->new($server->dir_config('WebguiRoot'), $configFile);
    ...
}</span></div>
        </pre>
    </div>
    
    <div class="slide">
        <div class=single>Give up nothing?</div>
    </div>
    
    <div class="slide">
        <div class=single>Goodbye shared hosting</div>
    </div>
    
    <div class=slide>
        <h1>Back then I said..</h1>
        
        <blockquote>
            "My pet bugbear with WebGUI is the hurdles it places in front of the do-it-yourself hobbyist 
            web crowd, who also happen to be the people most likely to write blog articles and generate 
            buzz around the project. 
        </blockquote>
        
        <blockquote>
            ... it's frustrating to think that so many more people could be getting excited about WebGUI 
            if it was only easier and cheaper to deploy. 
        </blockquote>
        
        <blockquote>
            Now if someone could just figure out how we could do that.."
        </blockquote>
        
        <div style="text-align: right">Patrick Donelan,</div>
        <div style="text-align: right"><em>"People Behind WebGUI"</em> interview, March 2009</div>
        <div style="text-align: right"><sup><a href="http://www.webgui.org/webgui/campaigns/people/patrick-donelan">
        www.webgui.org/webgui/campaigns/people/patrick-donelan
        </a></sup></div>
    </div>
    
    <div class="slide">
        <div class=single>Alternatives?</div>
    </div>
    
    <div class="slide">
        <div class=single>CGI Mode</div>
    </div>
    
    <div class="slide">
        <div class=single>Too slow (wG 5.x)</div>
    </div>
    
    <div class="slide">
        <div class=single>FastCGI?</div>
    </div>
    
    <div class="slide">
        <pre>
<strong>use FCGI;</strong>

my $req = <strong>FCGI::Request();</strong>
while ($req->Accept >= 0) {
    print "Content-Type: text/plain\r\n\r\n";
    print "Hello World";
}
        </pre>
    </div>
    
    <div class="slide">
        <div class=single>Frameworks to the rescue!</div>
    </div>
    
    <div class="slide">
        <blockquote>
            Maypole Mason Mojo Sledge <strong>Catalyst</strong> Spoon
            PageKit AxKit Egg Gantry Continuity Solstice
            Mojolicious Tripletail Konstrukt Reaction Jifty
            Cyclone3 OpenInteract Squatting
            Dancer CGI::Application Nanoa Ark Angelos
            Noe Schenker Tatsumaki Amon
            Apache2::WebApp Web::Simple Apache2::REST
            SweetPea Hydrant Titanium...
        </blockquote>
    </div>
    
    <div class="slide">
        <ul>
            <li>Catalyst::Engine::Apache2</li>
            <li>Catalyst::Engine::FastCGI</li>
            <li>Catalyst::Engine::XMPP2</li>
            <li>Catalyst::Engine::CGI</li>
            <li>Catalyst::Engine::HTTP</li>
            <li>Catalyst::Engine::SCGI</li>
            <li>Catalyst::Engine::HTTP::POE</li>
            <li>Catalyst::Engine::HTTP::Prefork</li>
        </ul>
    </div>
    
    <div class="slide">
        <div class=single>Yuck</div>
    </div>
    
    <div class="slide">
        <h1>Miyagawa to the rescue!</h1>
        <blockquote><img src=img/miyagawa.jpg></blockquote>
    </div>
    
    <div class="slide">
        <h1>Yes, that Miyagawa..</h1>
        <blockquote><img src=img/miyagawa_modules.png></blockquote>
    </div>
    
    <div class="slide">
        <div class=single>What are Web Apps?</div>
    </div>
    
    <div class="slide">
        <div class=single>Input?</div>
    </div>
    
    <div class="slide">
        <h1>Input</h1>
        <ul>
        <li>Environment Hash<pre>
{
    SERVER_PROTOCOL => 'HTTP/1.1',
    REQUEST_URI => '/home',
    HTTP_HOST => 'www.webgui.org',
    ...
}
        </pre></li>
        </ul>
    </div>
    
    <div class="slide">
        <div class=single>Output?</div>
    </div>
    
    <div class="slide">
        <h1>Output</h1>
        <ol class=incremental>
        <li>Status</li>
        <li>Headers</li>
        <li>Body</li>
        </ol>
    </div>

    <div class="slide">
        <div class=single>Web App = Function</div>
    </div>
    
    <div class="slide" style="padding-top: 0">
        <div class=single>Web request<br>=<br> Function call</div>
    </div>
    
    <div class="slide">
        <div class=single>What does a function look like?</div>
    </div>
    
    <div class="slide">
        <h1>Web App = Function</h1>
        <pre>
my $web_app = <span class=incremental><strong>sub</strong> {</span>

    <span class=incremental># INPUT
    my <strong>$environment_hash</strong> = shift;</span>
    
    <span class=incremental># OUTPUT
    return [</span>
        <span class=incremental>200,                                # Status</span>
        <span class=incremental>[ "Content-Type" => "text/plain" ], # Headers</span>
        <span class=incremental>[ "Hello World" ],                  # Body</span>
    <span class=incremental>];
    
};</span>
</pre>
    </div>
    
    <div class="slide">
        <div class=single style="padding-top: 0">What does a web request look like?</div>
    </div>
    
    <div class="slide">
        <h1>Web Request</h1>
        <pre>
$web_app->({
    SERVER_PROTOCOL => 'HTTP/1.1',
    REQUEST_URI => '/home',
    HTTP_HOST => 'www.webgui.org',
    ...
});</pre>
    </div>
    
    <div class="slide">
        <h1>With thanks to..</h1>
        <div class=single>Python and Ruby</div>
    </div>
    
    <div class="slide">
        <h1>Python</h1>
        <blockquote><img src=img/pep333.png></blockquote>
    </div>
    
    <div class="slide">
        <h1>Python - WSGI</h1>
        <pre>
def hello(environ, start_response):
    start_response(
        <strong>"200 OK",</strong>
        <strong>[ ('Content-Type', 'text/plain') ]</strong>
    )
    
    return <strong>["Hello World"]</strong>
        </pre>
    </div>
    
    <div class="slide">
        <h1>Ruby</h1>
        <blockquote><img src=img/rack-logo.png></blockquote>
    </div>
    
    <div class="slide">
        <h1>Ruby</h1>
        <pre>
class Hello
    def call(env)
        return [
            <strong>200,</strong>
            <strong>{ 'Content-Type' => 'text/plain' },</strong>
            <strong>[ 'Hello World' ]</strong>
        ]
    end
end
        </pre>
    </div>
    
    <div class="slide">
        <div class=single>What happened next?</div>
    </div>
    
    <div class="slide">
        <h1>WSGI</h1>
        <blockquote>
            <img src=img/WSGI.png align=left>
            <p class=incremental style="padding-top: 40px">Frameworks</p>
            <p class=incremental style="padding-top: 310px">Web Servers</p>
        </blockquote>
    </div>
    
    <div class="slide">
        <h1>Rack</h1>
        <blockquote>
            <img src=img/Rack.png align=left>
            <p class=incremental style="padding-top: 42px">Frameworks</p>
            <p class=incremental style="padding-top: 310px">Niche Web Servers</p>
        </blockquote>
    </div>
    
    <div class="slide">
        <div class=single>Perl?</div>
    </div>
    
    <div class="slide">
        <blockquote>
            <img src=img/miyagawa-fighter.png>
        </blockquote>
    </div>
    
    <div class="slide">
        <div class=single>Plack/PSGI</div>
    </div>
    
    <div class="slide">
        <h1>plackperl.org</h1>
        <blockquote>
            <img src=img/plackperl.png>
        </blockquote>
    </div>
    
    <div class="slide">
        <div class=single>What happened next?</div>
    </div>
    
    <div class="slide">
        <h1>PSGI</h1>
        <blockquote>
            <img src=img/PSGI.png align=left>
            <p class=incremental style="padding-top: 43px">Frameworks</p>
            <p class=incremental style="padding-top: 310px">Web Servers</p>
        </blockquote>
    </div>
    
    <div class="slide">
        <h1>Frameworks</h1>
        <div class=long>
        <ul>
            <li>Catalyst</li>
            <li>Jifty </li>
            <li>CGI::Application </li>
            <li>HTTP::Engine </li>
            <li>Dancer</li>
            <li>Mason </li>
            <li>Squatting </li>
            <li>Continuity </li>
            <li>Maypole </li>
            <li>Tatsumaki </li>
            <li>Mojolicious</li>
            <li>Web::Simple.. </li>
        </ul>
        </div>
    </div>
    
    <div class="slide">
        <div class=single style="padding-top: 0">PSGI Servers are<br>embedded Perl processes</div>
    </div>
    
    <div class="slide">
        <h1>Servers</h1>
        <ul class=incremental>
        <li>Plack (CGI, FastCGI, mod_perl)</li>
        <li>HTTP::Server::Simple::PSGI (zero dependencies)</li>
        <li>Starman (high-performance, preforking, UNIX domain sockets, graceful restarts, dynamic worker pool configuration via signals)</li>
        <li>Twiggy (AnyEvent based, non-blocking / asynchronous, lightweight)</li>
        <li>Corona (coroutines / cooperative threads)</li>
        <li>Starlet, FCGI::EV, Danga::Socket, AnyEvent::HTTPD, SCGI, AnyEvent::SCGI, POE, ...</li>
        </ul>
    </div>
    
    <div class="slide">
        <div class=single>app.psgi</div>
    </div>
    
    <div class="slide">
        <h1>app.psgi</h1>
        <pre>
my $handler = sub {
    return [ 
        <strong>200,</strong> 
        <strong>[ "Content-Type" => "text/plain" ], </strong> 
        <strong>[ "Hello World" ],</strong> # or IO::Handle-like object
    ];
};
        </pre>
    </div>
    
    <div class="slide">
        <div class=single>Plackup</div>
    </div>
    
    <div class="slide">
        <h1>Plackup</h1>
        <pre>
$ <strong>plackup app.psgi</strong>
HTTP::Server::PSGI: Accepting connections at http://0:5000/
        </pre>
    </div>
    
    <div class="slide">
        <h1>Plackup</h1>
        <pre>
$ plackup <strong>--server Twiggy</strong> app.psgi
<strong>Twiggy</strong>: Accepting connections at http://0.0.0.0:5000/
        </pre>
    </div>
    
    <div class="slide">
        <h1>Plackup</h1>
        <pre>
$ plackup <strong>--server Starman --port 8080 --reload</strong> app.psgi
<strong>Starman</strong>: Accepting connections at http://*:<strong>8080</strong>/
<strong>Watching ./lib a.psgi for file updates.</strong>
        </pre>
    </div>
    
    <div class="slide">
        <h1>Plackup</h1>
        <pre>
$ plackup <strong>-MPlack::App::Directory -e 'Plack::App::Directory->new'</strong>

Plack::Server::Standalone: Accepting connections at http://0:5000/
        </pre>
    </div>
    
    <div class="slide">
        <div class=single>Middleware</div>
    </div>
    
    <div class="slide" style="padding-top: 0">
        <div class=single>Functional Programming</div>
    </div>
    
    <div class="slide">
        <h1>Middleware</h1>
        <blockquote><img src=img/middleware.png></blockquote>
    </div>
    
    <div class="slide">
        <h1>Middleware</h1>
        <pre>
my $app = sub {
    my $env = shift;
    return [ $status, $header, $body ];
};
<span class=incremental>
my $middleware = sub {
    my $env = shift;
</span><span class=incremental>
    # Entering the onion..
</span><span class=incremental>
    my $res = $app->($env);
</span><span class=incremental>    
    # Exiting the onion..
</span><span class=incremental>
    return $res;
}</span>
        </pre>
    </div>
    
    <div class="slide">
        <h1>Middleware</h1>
        <blockquote>
            Debug Session Logger Runtime Static Lint
            AccessLog ConditionalGET ErrorDocument
            StackTrace Auth::Basic Auth::Digest ReverseProxy
            Refresh Auth::OAuth Hippie Throttle RefererCheck 
            Header MethodOverride LogDispatch Log4perl
            XFramework FirePHP Expires ETag Deflater
            ConsoleLogger CSRFBlock AutoRefresh Access XSendfile
            RearrangeHeaders JSONP Head HTTPExceptions ...
        </blockquote>
    </div>
    
    <div class="slide">
        <div class=single>Syntatic Sugar</div>
    </div>
    
    <div class="slide">
        <h1>Builder</h1>
        <pre>
my $app = sub {
    my $end = shift;
    return [ $status, $header, $body ];
};
<span class=incremental>
use Plack::Builder;
builder {
    </span><span class=incremental><strong>enable</strong> "Static", root => '/htdocs', path => qr{^/static/};</span>
    <span class=incremental><strong>enable</strong> "Deflater";</span>
    <span class=incremental><strong>enable_if</strong> { $_[0]->{REMOTE_ADDR} !~ /^192\.168\.0\./ } 
        "Auth::Basic";</span>
    <span class=incremental>return $app;
}</span>
        </pre>
    </div>
    
    <div class="slide">
        <h1>URLMap</h1>
        <pre>
<span class=incremental>my $app1 = sub { .. };</span>
<span class=incremental>my $app2 = sub { .. };</span>

<span class=incremental>use Plack::Builder;
builder {</span>
    <span class=incremental><strong>mount</strong> '/first' => $app1;</span>
    <span class=incremental><strong>mount</strong> '/second' => </span><span class=incremental><strong>builder</strong> {</span>
        <span class=incremental><strong>enable</strong> "StackTrace";</span>
        <span class=incremental>$app2;
    };
}</span>
        </pre>
    </div>
    
    <div class="slide">
        <div class=single>Testing</div>
    </div>
    
    <div class="slide">
        <h1>Testing</h1>
        <pre>
<div class=long>use <strong>Plack::Test</strong>;
use Test::More;
use <strong>HTTP::Request</strong>;
<span class=incremental>
my $app = sub {
    return [ 200, [ 'Content-Type', 'text/plain' ], [ "Hello" ] ];
};
</span><span class=incremental>
<strong>test_psgi $app</strong>, sub {
    my $cb = shift;</span><span class=incremental>
    my $req = <strong>HTTP::Request</strong>->new(GET => 'http://localhost/');
    my $res = $cb->($req);
</span><span class=incremental>
    <strong>is</strong> $res->code, 200;</span><span class=incremental>
    <strong>is</strong> $res->content, "Hello";
};
done_testing;</span></div>
        </pre>
    </div>
    
    <div class="slide">
        <h1>Testing</h1>
        <pre>
<div class=long>use <strong>Plack::Test</strong>;
use Test::More;
use <strong>HTTP::Request::Common</strong>;

my $app = sub {
    return [ 200, [ 'Content-Type', 'text/plain' ], [ "Hello" ] ];
};

<strong>test_psgi $app</strong>, sub {
    my $cb = shift;
    
    <strong>my $res = $cb->(GET "/");</strong>

    <strong>is</strong> $res->code, 200;
    <strong>is</strong> $res->content, "Hello";
};
done_testing;</div>
        </pre>
    </div>
    
    <div class="slide">
        <h1>Testing</h1>
        <pre>
<div class=long>use <strong>Plack::Test</strong>;
use Test::More;
use <strong>HTTP::Request::Common</strong>;
<strong>$Plack::Test::Impl = "Server";</strong>

my $app = sub {
    return [ 200, [ 'Content-Type', 'text/plain' ], [ "Hello" ] ];
};

<strong>test_psgi $app</strong>, sub {
    my $cb = shift;
    
    <strong>my $res = $cb->(GET "/");</strong>
    <strong>is</strong> $res->code, 200;
    <strong>is</strong> $res->content, "Hello";
};
done_testing;</div>
        </pre>
    </div>
    
    <div class="slide">
        <div class=single>WebGUI?</div>
    </div>
    
    <div class="slide">
        <div class=single>October 2009</div>
    </div>
    
    <div class="slide">
        <h1>October 2009</h1>
        <blockquote><img src=img/PlebGUI.png style="padding-top: 20px"></img></blockquote>
    </div>
    
    <div class="slide">
        <div class=single>June 2010</div>
    </div>
    
    <div class="slide">
        <h1>June 2010</h1>
        <blockquote><img src=img/patspam-plack-announcement.png style="padding-top: 20px"></img></blockquote>
    </div>
    
    <div class="slide">
        <div class=single style="padding-top: 0">WebGUI 8<br><span style="color: red">&#x2764;</span><br>Plack</div>
    </div>
    
    <div class="slide">
        <div class=single style="padding-top: 0">WebGUI 8<br>runs on..</div>
    </div>
    
    <div class="slide">
        <h1>Retro CGI Mode</h1>
        <pre><div class=long>
&lt;VirtualHost *:80&gt;
 PerlOptions +Parent
 PerlSwitches -I/data/WebGUI/lib

<strong> AddHandler cgi-script cgi
 ScriptAlias / /data/WebGUI/etc/dev.localhost.localdomain.cgi/
 &lt;Directory /data/WebGUI/etc&gt;
    Options +ExecCGI
 &lt;/Directory&gt;</strong>
&lt;/VirtualHost&gt;
        </div></pre>
    </div>
    
    <div class="slide">
        <h1>Apache mod_perl (v1 and v2)</h1>
        <pre><div class=long>
&lt;VirtualHost *:80&gt;
 PerlOptions +Parent
 PerlSwitches -I/data/WebGUI/lib

 <strong>SetHandler perl-script
 PerlHandler Plack::Server::Apache2
 PerlSetVar psgi_app /data/WebGUI/etc/dev.localhost.localdomain.psgi</strong>
&lt;/VirtualHost&gt;
        </div></pre>
    </div>
    
    <div class="slide">
        <h1>FastCGI</h1>
        <pre><div class=long>
&lt;VirtualHost *:80&gt;
 PerlOptions +Parent
 PerlSwitches -I/data/WebGUI/lib

 <strong>FastCgiServer /data/WebGUI/etc/dev.localhost.localdomain.fcgi
 ScriptAlias / /data/WebGUI/etc/dev.localhost.localdomain.fcgi/</strong>
&lt;/VirtualHost&gt;
        </div></pre>
    </div>
    
    <div class="slide">
        <h1>mod_psgi</h1>
        <pre><div class=long>
&lt;VirtualHost *:80&gt;
  <strong>&lt;Location /&gt;
     SetHandler psgi
     PSGIApp /data/WebGUI/etc/dev.localhost.localdomain.psgi
  &lt;/Location&gt;</strong>
&lt;/VirtualHost&gt;
        </div></pre>
    </div>
    
    <div class="slide">
        <div class=single>Nginx, etc..</div>
    </div>
    
    <div class="slide">
        <h1>Embedded Server</h1>
        <blockquote><img src=img/padre.png></img></blockquote>
    </div>
    
    <div class="slide">
        <h1>Debug Panel</h1>
        <blockquote><img src=img/debug1.png style="padding-top: 20px"></img></blockquote>
    </div>
    
    <div class="slide">
        <h1>Debug Panel</h1>
        <blockquote><img src=img/debug2.png></img></blockquote>
    </div>
    
    <div class="slide">
        <h1>Debug Panel</h1>
        <blockquote><img src=img/debug3.png style="padding-top: 20px"></img></blockquote>
    </div>
    
    <div class="slide">
        <h1>In case you're not excited yet..</h1>
        <ul class=incremental>
            <li>Choose the server and configuration that suits your niche
                <ul class=incremental>
                    <li>Low Cost / Low Maintenance / High Performance / High Availability / ...</li>
                    <li>Hot deployment / Multiple web apps mounted on same domain / ...</li>
                </ul>
            </li>
            <li>WebGUI-specific Middleware
                <ul class=incremental>
                    <li>URL Handlers = Middleware</li>
                    <li>Content Handlers = Middleware</li>
                </ul>
            </li>
       </ul>
    </div>
    
    <div class="slide">
        <h1>In case you're not excited yet..</h1>
        <ul class=incremental>
            <li>Every new Plack feature (Middleware, Server, ..) is a WebGUI feature
                <ul class=incremental>
                    <li>Equivalent replacements for Apache mod_expires, mod_rewrite, etc..</li>
                    <li>Mongrel2</li>
                    <li>WebSocket (Hippie)</li>
                </ul>
            </li>
            <li>Streaming API</li>
            <li>Non-blocking in WebGUI 9.x?</li>
       </ul>
    </div>
    
    <div class="slide">
        <h1>Heroku</h1>
        <blockquote><img src=img/heroku.png></img></blockquote>
    </div>
    
    <div class="slide">
        <h1>Sunaba</h1>
        <blockquote><img src=img/dan-180x240.till style="padding-top: 20px"></img></blockquote>
    </div>
    
    <div class="slide">
        <div class=single>Google App Engine?</div>
    </div>
    
    <div class="slide">
        <div class=single style="padding-top: 0">Plack/PSGI<br>is only<br>1 year old</div>
    </div>
    
    <div class="slide">
        <h1>See also</h1>
        <ul>
            <li>http://plackperl.org</li>
            <li>#plack on irc.perl.org</li>
        </ul>

http://www.slideshare.net/miyagawa/psgiplack-osdctw
http://www.slideshare.net/miyagawa/plack-at-oscon-2010

    </div>
    
</div>

</body>
</html>
